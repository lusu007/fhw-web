

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="de" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="de" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Templating &mdash; fhw-web Dokumentation  Dokumentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Stichwortverzeichnis" href="../genindex.html" />
    <link rel="search" title="Suche" href="../search.html" />
    <link rel="next" title="Controller" href="../controller/index_04.html" />
    <link rel="prev" title="Routing" href="../routing/index_04.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> fhw-web Dokumentation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Ausschnitt für Aufgabe 01</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../first_steps.html">Erste Schritte</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config/index_01.html">Konfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../routing/index_01.html">Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="index_01.html">Templating</a></li>
<li class="toctree-l1"><a class="reference internal" href="../errors/index_01.html">Fehlerbehandlung</a></li>
</ul>
<p class="caption"><span class="caption-text">Ausschnitt für Aufgabe 02</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../config/index_02.html">Konfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../routing/index_02.html">Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="index_02.html">Templating</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controller/index_02.html">Controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sessions/index_02.html">Sessions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../errors/index_02.html">Fehlerbehandlung</a></li>
</ul>
<p class="caption"><span class="caption-text">Ausschnitt für Aufgabe 03</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../config/index_03.html">Konfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../routing/index_03.html">Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="index_03.html">Templating</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controller/index_03.html">Controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sessions/index_03.html">Sessions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../errors/index_03.html">Fehlerbehandlung</a></li>
</ul>
<p class="caption"><span class="caption-text">Ausschnitt für Aufgabe 04</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../config/index_04.html">Konfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../routing/index_04.html">Routing</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Templating</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#global-json">global.json</a></li>
<li class="toctree-l2"><a class="reference internal" href="#frontmatter">Frontmatter</a></li>
<li class="toctree-l2"><a class="reference internal" href="#handlebars-expression">Handlebars-Expression</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#beispiel-mit-abzweigungen">Beispiel mit Abzweigungen</a></li>
<li class="toctree-l3"><a class="reference internal" href="#beispiel-mit-schleifen">Beispiel mit Schleifen</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#mehrstufige-template-logik">Mehrstufige Template-Logik</a></li>
<li class="toctree-l2"><a class="reference internal" href="#validierung">Validierung</a></li>
<li class="toctree-l2"><a class="reference internal" href="#helper">Helper</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#helper-anlegen">Helper anlegen</a></li>
<li class="toctree-l3"><a class="reference internal" href="#helper-verwenden">Helper verwenden</a></li>
<li class="toctree-l3"><a class="reference internal" href="#anwendungsbeispiele">Anwendungsbeispiele</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#beispiel">1. Beispiel</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id1">2. Beispiel</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">3. Beispiel</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#schachteln-von-helpern">Schachteln von Helpern</a></li>
<li class="toctree-l3"><a class="reference internal" href="#auswertung-von-ausdrucken">Auswertung von Ausdrücken</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../controller/index_04.html">Controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sessions/index_04.html">Sessions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../errors/index_04.html">Fehlerbehandlung</a></li>
</ul>
<p class="caption"><span class="caption-text">Vollständig</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../config/index.html">Konfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../routing/index.html">Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Templating</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controller/index.html">Controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sessions/index.html">Sessions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../errors/index.html">Fehlerbehandlung</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">fhw-web Dokumentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Templating</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/templating/index_04.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="templating">
<h1>Templating<a class="headerlink" href="#templating" title="Link zu dieser Überschrift">¶</a></h1>
<p>Im folgenden werden die Mechanismen vorgestellt, mit denen es mittels des <em>fhw-web</em>-Frameworks möglich ist Templating zu realisieren - also die Trennung von Daten und ihrer Darstellung sowie Wiederverwenden von bereits definierten Darstellungs-Fragmenten.</p>
<div class="section" id="global-json">
<h2>global.json<a class="headerlink" href="#global-json" title="Link zu dieser Überschrift">¶</a></h2>
<p>Die global.json ist im Projektordner anzulegen und kann globale Daten enthalten, die von allen Seiten hinweg genutzt werden können. Die Datei hat die Daten in der json Struktur bereitzuhalten.</p>
<p>Beispiel:</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;My Awesome Website&quot;</span><span class="p">,</span>
    <span class="nt">&quot;author&quot;</span><span class="p">:</span> <span class="s2">&quot;Marcus Riemer&quot;</span><span class="p">,</span>
    <span class="nt">&quot;company&quot;</span><span class="p">:</span> <span class="s2">&quot;Fachhochschule Wedel&quot;</span><span class="p">,</span>
    <span class="nt">&quot;style&quot;</span><span class="p">:</span> <span class="s2">&quot;style.css&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="frontmatter">
<h2>Frontmatter<a class="headerlink" href="#frontmatter" title="Link zu dieser Überschrift">¶</a></h2>
<p>Dateien mit der Namenserweiterung <em>.hbs</em> werden vom Framework automatisch für das Templating erkannt. Jede <em>hbs</em>-Datei kann zwei Block-Bereiche enthalten:</p>
<ul class="simple">
<li><p>Frontmatter, also die Daten</p></li>
<li><p>Markup, also die Auszeichnung/die Darstellung</p></li>
</ul>
<p>Beides, Frontmatter und Markup, sind optionale Angaben.</p>
<p>Dabei steht das Frontmatter über dem Markup. Drei aufeinanderfolgende Striche leiten und schließen das Frontmatter ab.
Mit der Punktnotation wird auf strukturierte Daten zugegriffen.
Mit der Punktnotation stehen dann auf oberste Ebene zwei “globale Objekte” bereit:</p>
<dl class="simple">
<dt><strong>page</strong></dt><dd><p>enthält die <em>Frontmatter</em>-Daten</p>
</dd>
<dt><strong>global</strong></dt><dd><p>enthält Daten aus der <em>global.json</em></p>
</dd>
</dl>
<p>Beispiel:</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---</span>
<span class="p">{</span>
    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Kontaktbuch&quot;</span><span class="p">,</span>
    <span class="s2">&quot;person&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;firstname&quot;</span><span class="p">:</span> <span class="s2">&quot;Nadine&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lastname&quot;</span><span class="p">:</span> <span class="s2">&quot;Schmidt&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="o">---</span>
</pre></div>
</div>
<div class="highlight-handlebars notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;!DOCTYPE  html&gt;</span>
<span class="x">&lt;html  lang=&quot;en&quot;&gt;</span>
<span class="x">&lt;head&gt;</span>
<span class="x">    &lt;meta  charset=&quot;UTF-8&quot;&gt;</span>
<span class="x">    &lt;meta  name=&quot;viewport&quot;  content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span>
<span class="x">    &lt;link  rel=&quot;stylesheet&quot;  href=&quot;/assets/</span><span class="cp">{{</span><span class="nv">style.css</span><span class="cp">}}</span><span class="x">&quot;&gt;</span>
<span class="x">    &lt;title&gt;</span><span class="cp">{{</span><span class="nv">global.json</span><span class="cp">}}</span><span class="x">&lt;/title&gt;</span>
<span class="x">&lt;/head&gt;</span>
<span class="x">&lt;body&gt;</span>
<span class="x">    &lt;h1&gt;</span><span class="cp">{{</span><span class="nv">page.title</span><span class="cp">}}</span><span class="x">&lt;/h1&gt;</span>
<span class="x">    &lt;p&gt;Vorname: </span><span class="cp">{{</span><span class="nv">page.person.firstname</span><span class="cp">}}</span><span class="x">&lt;/p&gt;</span>
<span class="x">    &lt;p&gt;Nachname: </span><span class="cp">{{</span><span class="nv">page.person.lastname</span><span class="cp">}}</span><span class="x">&lt;/p&gt;</span>
<span class="x">&lt;/body&gt;</span>
<span class="x">&lt;/html&gt;</span>
</pre></div>
</div>
</div></blockquote>
<p>Beides, Frontmatter und Markup, sind jeweils optionale Angaben.</p>
</div>
<div class="section" id="handlebars-expression">
<h2>Handlebars-Expression<a class="headerlink" href="#handlebars-expression" title="Link zu dieser Überschrift">¶</a></h2>
<p>Für den Übungsverlauf genügt es sich mit den Ausdrücken für Abzweigungen und Schleifen anzuvertrauen; eine vollständige Auflistung aller in Handlebars möglichen Ausdrücke sind in der <a class="reference external" href="https://handlebarsjs.com/guide/builtin-helpers.html">offiziellen Dokumentation</a> zu finden.</p>
<div class="section" id="beispiel-mit-abzweigungen">
<h3>Beispiel mit Abzweigungen<a class="headerlink" href="#beispiel-mit-abzweigungen" title="Link zu dieser Überschrift">¶</a></h3>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---</span>
<span class="p">{</span>
    <span class="s2">&quot;person&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;firstname&quot;</span><span class="p">:</span> <span class="s2">&quot;Nadine&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lastname&quot;</span><span class="p">:</span> <span class="s2">&quot;Schmidt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;is-student&quot;</span><span class="p">:</span> <span class="n">true</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="o">---</span>
</pre></div>
</div>
<div class="highlight-handlebars notranslate"><div class="highlight"><pre><span></span><span class="cp">{{</span><span class="m m-Attribute">#if</span> <span class="nv">page.person</span><span class="cp">}}</span><span class="x"></span>
<span class="x">    &lt;p&gt;Folgende Person gefunden:&lt;/p&gt;</span>
<span class="x">    &lt;ul&gt;</span>
<span class="x">        &lt;li&gt;Vorname: </span><span class="cp">{{</span><span class="nv">page.firstname</span><span class="cp">}}</span><span class="x">&lt;/li&gt;</span>
<span class="x">        &lt;li&gt;Nachname: </span><span class="cp">{{</span><span class="nv">page.lastname</span><span class="cp">}}</span><span class="x">&lt;/li&gt;</span>
<span class="x">        </span><span class="cp">{{</span><span class="m m-Attribute">#if</span> <span class="nv">page.person.is-student</span><span class="cp">}}</span><span class="x"></span>
<span class="x">        &lt;li&gt;studiert&lt;/li&gt;</span>
<span class="x">        </span><span class="cp">{{</span><span class="m m-Attribute">/if</span><span class="cp">}}</span><span class="x"></span>
<span class="x">    &lt;/ul&gt;</span>
<span class="cp">{{</span><span class="m m-Attribute">/if</span><span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span><span class="nv">else</span><span class="cp">}}</span><span class="x"></span>
<span class="x">    &lt;p&gt;Keine Person gefunden&lt;/p&gt;</span>
<span class="cp">{{</span><span class="m m-Attribute">/if</span><span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="beispiel-mit-schleifen">
<h3>Beispiel mit Schleifen<a class="headerlink" href="#beispiel-mit-schleifen" title="Link zu dieser Überschrift">¶</a></h3>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---</span>
<span class="p">{</span>
    <span class="s2">&quot;fruits&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;apple&quot;</span><span class="p">,</span> <span class="s2">&quot;banana&quot;</span><span class="p">,</span> <span class="s2">&quot;chery&quot;</span><span class="p">,</span> <span class="s2">&quot;dragonfruit&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;persons&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="s2">&quot;firstname&quot;</span><span class="p">:</span> <span class="s2">&quot;Pasquale&quot;</span><span class="p">,</span> <span class="s2">&quot;lastname&quot;</span><span class="p">:</span> <span class="s2">&quot;Schmidt&quot;</span> <span class="p">},</span>
        <span class="p">{</span> <span class="s2">&quot;firstname&quot;</span><span class="p">:</span> <span class="s2">&quot;Tina&quot;</span><span class="p">,</span> <span class="s2">&quot;lastname&quot;</span><span class="p">:</span> <span class="s2">&quot;Meier&quot;</span> <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
<span class="o">---</span>
</pre></div>
</div>
<div class="highlight-handlebars notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;ul&gt;</span>
<span class="x">    </span><span class="cp">{{</span><span class="m m-Attribute">#each</span> <span class="nv">page.fruits</span><span class="cp">}}</span><span class="x"></span>
<span class="x">    &lt;li&gt;&lt;/li&gt;</span>
<span class="x">    </span><span class="cp">{{</span><span class="m m-Attribute">/each</span><span class="cp">}}</span><span class="x"></span>
<span class="x">&lt;/ul&gt;</span>
<span class="x">&lt;ul&gt;</span>
<span class="x">    </span><span class="cp">{{</span><span class="m m-Attribute">#each</span> <span class="nv">page.persons</span><span class="cp">}}</span><span class="x"></span>
<span class="x">    &lt;li&gt;</span><span class="cp">{{</span><span class="nv">this.firstname</span><span class="cp">}}</span><span class="x"> </span><span class="cp">{{</span><span class="nv">this.lastname</span><span class="cp">}}</span><span class="x">&lt;/li&gt;</span>
<span class="x">    </span><span class="cp">{{</span><span class="m m-Attribute">/each</span><span class="cp">}}</span><span class="x"></span>
<span class="x">&lt;/ul&gt;</span>
</pre></div>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="mehrstufige-template-logik">
<h2>Mehrstufige Template-Logik<a class="headerlink" href="#mehrstufige-template-logik" title="Link zu dieser Überschrift">¶</a></h2>
<p>Damit ist das Einsetzen spezieller, wiederkehrender Fragmente (Stichwort <code class="docutils literal notranslate"><span class="pre">{{include}}</span></code>) bzw. Referenzieren eines Templates (Stichworte <code class="docutils literal notranslate"><span class="pre">&quot;template&quot;:</span> <span class="pre">&quot;&quot;</span></code> im Frontmatter und <code class="docutils literal notranslate"><span class="pre">{{content}}</span></code> im Markup) gemeint. Beide Arten von Templates sind im Ordner <em>templates</em> abzulegen.</p>
<dl class="simple">
<dt>include</dt><dd><p>Wiederkehrende Elemente sind dabei logisch voneinander trennbare Inhalte bzw. in sich geschlossene Fragmente. Dies wäre beispielsweise bei einem Header oder einem Footer der Fall.</p>
</dd>
<dt>template und content</dt><dd><p>Hier sind wiederkehrende Elemente nicht in sich geschlossen. Vielmehr verhalten sich diese wie ein “Gerüst”. Die üblichen vollständigen Auszeichnungen (Doctype, head- und-body tag, meta Angaben im head-block) sind meist in allen HTML Dokumenten gleich. Der eigentliche Inhalt, der die einzelnen Seiten charakterisiert, befindet sich im body-block. Hier ist es ratsam, dieses wiederkehrende HTML-Gerüst als template auszulagern und den eigentlichen Inhalt an der gewünschten Stelle einzuspeisen.</p>
</dd>
</dl>
<p>Folgendes Beispiel wird das HTML-Gerüst in die Datei <em>templates/full-html.hbs</em> ausgelagert. Zusätzlich wird eine Datei <em>templates/heading.hbs</em> angelegt, um den Titel als in sich geschlossenes Element auszulagern. Der eigentliche Inhalt wird in der Datei <em>pages/index.hbs</em> geschrieben.</p>
<p>Datei: <em>pages/index.hbs</em></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---</span>
<span class="p">{</span>
    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Welcome&quot;</span><span class="p">,</span>
    <span class="s2">&quot;template&quot;</span><span class="p">:</span> <span class="s2">&quot;full-html&quot;</span>
<span class="p">}</span>
<span class="o">---</span>
</pre></div>
</div>
<div class="highlight-handlebars notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;p&gt;Oh Hi Visitor!&lt;/p&gt;</span>
</pre></div>
</div>
</div></blockquote>
<p>Datei: <em>templates/full-html.hbs</em></p>
<blockquote>
<div><div class="highlight-handlebars notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;!DOCTYPE  html&gt;</span>
<span class="x">&lt;html  lang=&quot;de&quot;&gt;</span>
<span class="x">&lt;head&gt;</span>
<span class="x">    &lt;meta  charset=&quot;UTF-8&quot;&gt;</span>
<span class="x">    &lt;meta  name=&quot;viewport&quot;  content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span>
<span class="x">    &lt;title&gt;</span><span class="cp">{{</span><span class="nv">page.title</span><span class="cp">}}</span><span class="x">&lt;/title&gt;</span>
<span class="x">&lt;/head&gt;</span>
<span class="x">&lt;body&gt;</span>
<span class="x">    </span><span class="cp">{{</span><span class="nv">include</span> <span class="s1">&#39;heading&#39;</span><span class="cp">}}</span><span class="x"></span>
<span class="x">    &lt;main&gt;</span><span class="cp">{{</span><span class="nv">content</span><span class="cp">}}</span><span class="x">&lt;/main&gt;</span>
<span class="x">&lt;/body&gt;</span>
<span class="x">&lt;/html&gt;</span>
</pre></div>
</div>
</div></blockquote>
<p>Datei: <em>templates/title.hbs</em></p>
<blockquote>
<div><div class="highlight-handlebars notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;h1&gt;</span><span class="cp">{{</span><span class="nv">page.title</span><span class="cp">}}</span><span class="x">&lt;/h1&gt;</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="validierung">
<h2>Validierung<a class="headerlink" href="#validierung" title="Link zu dieser Überschrift">¶</a></h2>
<p>Das Framework validiert vom Server erzeugte HTML-Dokumente sowie CSS-Dateien automatisch, bevor es an den Web-Browser ausgeliefert wird. Wird gegen HTML- oder CSS-Standards verstoßen, so werden diese als Fehler angezeigt.</p>
</div>
<div class="section" id="helper">
<h2>Helper<a class="headerlink" href="#helper" title="Link zu dieser Überschrift">¶</a></h2>
<p>Helper sind ein von Handlebars zur Verfügung gestellte Erweiterung, womit es möglich ist, wiederverwendbare Funktionen zu definieren. Diese lassen sich dann im Templating-Quelltext verwenden.</p>
<p>Konkret lassen sich damit</p>
<ol class="arabic simple">
<li><p>Inhalte zusammenstellen, die sich nicht direkt aus dem HTML und Frontmatter Kontext ergeben oder herleiten lassen</p></li>
<li><p>Werte formatieren</p></li>
<li><p>Ausdrücke in if-Bedingungen auswerten</p></li>
</ol>
<p>Zu diesen drei Szenarien stellen die untenstehenden <em>Anwendungsbeispiele</em> exemplarisch Codeausschnitte dar. Zunächst aber die Definition.</p>
<div class="section" id="helper-anlegen">
<h3>Helper anlegen<a class="headerlink" href="#helper-anlegen" title="Link zu dieser Überschrift">¶</a></h3>
<p>Um Helper zu definieren, müssen gleichartige Helper in einem Modul zusammengefasst werden. Diese Module sind dann als Javascript-Dateien (*.js) im Ordner <em>&lt;Projektordner&gt;/helpers/</em> anzulegen. Es können mehrere Helper je Datei definiert werden. Dies ist sinnvoll, um thematisch gleichartige Routinen zusammenzufassen. Bspw. würden Helper, die mathematische Ausdrücke auswerten, in einer Datei <em>math.js</em>, wohingegen Routinen, die Zeit- und Datumsangaben bereitstellen, in einer Datei <em>datetime.js</em> hinterlegt werden.</p>
<p>Eine solche Javascript-Datei exportiert dann ein Objekt mit benannten Funktionen:
<em>&lt;Projektordner&gt;/helpers/logic.js</em></p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">and</span><span class="p">(</span><span class="nx">condOne</span><span class="p">,</span> <span class="nx">condTwo</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">condOne</span> <span class="o">&amp;&amp;</span> <span class="nx">condTwo</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">or</span><span class="p">(</span><span class="nx">condOne</span><span class="p">,</span> <span class="nx">condTwo</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">condOne</span> <span class="o">||</span> <span class="nx">condTwo</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;logic-and&quot;</span><span class="o">:</span> <span class="nx">and</span><span class="p">,</span>
    <span class="s2">&quot;logic-or&quot;</span><span class="o">:</span> <span class="nx">or</span>
<span class="p">}</span>
</pre></div>
</div>
<p>An diesem Beispiel wird deutlich, dass der Funktionsname in einem Modul nicht mit der Helper-Bezeichnung übereinstimmen muss, die letzten Endes nach außen hin exportiert wird.</p>
</div>
<div class="section" id="helper-verwenden">
<h3>Helper verwenden<a class="headerlink" href="#helper-verwenden" title="Link zu dieser Überschrift">¶</a></h3>
<p>Die eigens definierten Helper-Funktionen können dann in der üblichen Handlebars Schreibweise in geschweiften Klammern mit Parametern aufgerufen werden. Parameter werden dabei durch Leerzeichen nacheinander aufgeschrieben:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---</span>
<span class="p">{</span>
    <span class="s2">&quot;conditionOne&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;conditionTwo:&quot;</span> <span class="n">false</span>
<span class="p">}</span>
<span class="o">---</span>
</pre></div>
</div>
<div class="highlight-handlebars notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;p&gt;Die Und-Verknüpfung ist: </span><span class="cp">{{</span> <span class="nv">and</span> <span class="nv">page.conditionOne</span> <span class="nv">page.conditionTwo</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>Es können auch Helper definiert werdne, die keine Parameter erwarten. Entsprechend parameterlos erfolgt der Aufruf:</p>
<div class="highlight-handlebars notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;p&gt;Uhrzeit: </span><span class="cp">{{</span><span class="nv">print-current-time</span><span class="cp">}}</span><span class="x">&lt;/p&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="anwendungsbeispiele">
<h3>Anwendungsbeispiele<a class="headerlink" href="#anwendungsbeispiele" title="Link zu dieser Überschrift">¶</a></h3>
<p>Die hier vorgestellten Anwendungsbeispiele sollen vorab eine Vorstellung über Anwendungs- und Umsetzungsszenarien liefern. Dabei wird auf die darauffolgend vorgestellte Definitionsbeschreibung vorgefriffen.</p>
<div class="section" id="beispiel">
<h4>1. Beispiel<a class="headerlink" href="#beispiel" title="Link zu dieser Überschrift">¶</a></h4>
<p>Datei: <em>&lt;Projektordner&gt;/pages/helper-example-current-time.hbs</em></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---</span>
<span class="p">{</span>
<span class="p">}</span>
<span class="o">---</span>
</pre></div>
</div>
<div class="highlight-handlebars notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;p&gt;Uhrzeit: </span><span class="cp">{{</span><span class="nv">print-current-time</span><span class="cp">}}</span><span class="x">&lt;/p&gt;</span>
</pre></div>
</div>
</div></blockquote>
<p>Datei: <em>&lt;Projektordner&gt;/helpers/time.js</em></p>
<blockquote>
<div><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">current</span><span class="p">()</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">date</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
    <span class="k">return</span> <span class="nx">date</span><span class="p">.</span><span class="nx">toLocaleTimeString</span><span class="p">();</span>
<span class="p">}</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;print-current-time&quot;</span><span class="o">:</span> <span class="nx">current</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="id1">
<h4>2. Beispiel<a class="headerlink" href="#id1" title="Link zu dieser Überschrift">¶</a></h4>
<p>Datei: <em>&lt;Projektordner&gt;/pages/helper-example-format.hbs</em></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---</span>
<span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Marcus&quot;</span>
<span class="p">}</span>
<span class="o">---</span>
</pre></div>
</div>
<div class="highlight-handlebars notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;p&gt;Hallo </span><span class="cp">{{</span><span class="nv">to-uppercase</span> <span class="nv">page.name</span><span class="cp">}}</span><span class="x">&lt;/p&gt;</span>
</pre></div>
</div>
</div></blockquote>
<p>Datei: <em>&lt;Projektordner&gt;/helpers/string.js</em></p>
<blockquote>
<div><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">toUpperCase</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">str</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">();</span>
<span class="p">}</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;to-uppercase&quot;</span><span class="o">:</span> <span class="nx">toUpperCase</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="id2">
<h4>3. Beispiel<a class="headerlink" href="#id2" title="Link zu dieser Überschrift">¶</a></h4>
<p>Datei: <em>&lt;Projektordner&gt;/pages/helper-example-if-expression.hbs</em></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---</span>
<span class="p">{</span>
    <span class="s2">&quot;conditionOne&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;conditionTwo&quot;</span><span class="p">:</span> <span class="n">false</span>
<span class="p">}</span>
<span class="o">---</span>
</pre></div>
</div>
<div class="highlight-handlebars notranslate"><div class="highlight"><pre><span></span><span class="cp">{{</span><span class="m m-Attribute">#if</span> <span class="nv">(logic-and</span> <span class="nv">page.conditionOne</span> <span class="nv">page.conditionTwo)</span><span class="cp">}}</span><span class="x"></span>
<span class="x">&lt;p&gt;Wahr&lt;/p&gt;</span>
<span class="cp">{{</span><span class="nv">else</span><span class="cp">}}</span><span class="x"></span>
<span class="x">&lt;p&gt;Falsch&lt;/p&gt;</span>
<span class="cp">{{</span><span class="m m-Attribute">/if</span><span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
</div></blockquote>
<p>Datei: <em>&lt;Projektordner&gt;/helpers/logic.js</em></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="ow">and</span><span class="p">(</span><span class="n">conditionOne</span><span class="p">,</span> <span class="n">conditionTwo</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">conditionOne</span> <span class="o">&amp;&amp;</span> <span class="n">conditionTwo</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">module</span><span class="o">.</span><span class="n">exports</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;logic-and&quot;</span><span class="p">:</span> <span class="ow">and</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="schachteln-von-helpern">
<h3>Schachteln von Helpern<a class="headerlink" href="#schachteln-von-helpern" title="Link zu dieser Überschrift">¶</a></h3>
<p>Es lassen sich ebenfalls Helper-Funktionen schachteln. Das heißt, der Ergebniswert eines <em>inneren</em> Helpers wird als Eingabewert für einen <em>äußeren</em> Helper verwendet. Die Besonderheit hier ist, dass der innere Aufruf, also die Auswertung des inneren Konstrukts, in <em>runden Klammern</em> erfolgt.:</p>
<p>Datei: <em>&lt;Projektordner&gt;_/pages/example-min-max.hbs</em></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---</span>
<span class="p">{</span>
    <span class="s2">&quot;number&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">3</span>
<span class="p">}</span>
<span class="o">---</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="n">Zahl</span> <span class="n">zwischen</span> <span class="mi">0</span> <span class="n">und</span> <span class="mi">100</span><span class="p">:</span> <span class="p">{{</span><span class="nb">min</span> <span class="mi">100</span> <span class="p">(</span><span class="nb">max</span> <span class="n">page</span><span class="o">.</span><span class="n">number</span> <span class="mi">0</span><span class="p">)}}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</pre></div>
</div>
</div></blockquote>
<p>Datei: <em>&lt;Projektordner&gt;_/helpers/math.js</em></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">module</span><span class="o">.</span><span class="n">exports</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="n">function</span><span class="p">(</span><span class="n">numOne</span><span class="p">,</span> <span class="n">numTwo</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">let</span> <span class="n">result</span> <span class="o">=</span> <span class="n">numOne</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">&gt;</span> <span class="n">numTwo</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">numTwo</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="n">function</span><span class="p">(</span><span class="n">numOne</span><span class="p">,</span> <span class="n">numTwo</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">let</span> <span class="n">result</span> <span class="o">=</span> <span class="n">numOne</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">&lt;</span> <span class="n">numTwo</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">numTwo</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="auswertung-von-ausdrucken">
<h3>Auswertung von Ausdrücken<a class="headerlink" href="#auswertung-von-ausdrucken" title="Link zu dieser Überschrift">¶</a></h3>
<p>Ähnlich dem Schachteln von Helpern, lassen sich so auch in if-Bedingungen Ausdrücke formulieren, die durch einen Helper ausgewertet werden. Beispiel 3) hat bereits die Funktionsweise dargestellt.</p>
<div class="highlight-handlebars notranslate"><div class="highlight"><pre><span></span><span class="cp">{{</span><span class="m m-Attribute">#if</span> <span class="nv">(logic-and</span> <span class="nv">page.conditionOne</span> <span class="nv">page.conditionTwo)</span><span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>Zu beachten gilt aber, dass auch hier die Auswertung des Helpers in <em>runden Klammern</em> erfolgt, sodass das if seinen Rückgabewert auswerten kann. Tatsächlich handelt es sich bei dem verwendeten if um einen von Handlebars vordefinierten Helper, weswegen hier die Logik der Helperschachtelung greift.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../controller/index_04.html" class="btn btn-neutral float-right" title="Controller" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../routing/index_04.html" class="btn btn-neutral float-left" title="Routing" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, [mpg] Marian P. Gajda

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
   

</body>
</html>